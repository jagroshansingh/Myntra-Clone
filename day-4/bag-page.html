<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #bag-nav{
            border-bottom: 1px solid;
        }
        .bag-space-btw{
            display: flex;
            justify-content: space-between;
        }
        #bag-main{
            width:70%;
            margin: auto;
            border: 0px solid ;
            display: flex;
            justify-content: space-between;
        }
        #bag-product-section{
            width: 60%;
            border: px solid;
            margin-top: 23px;
            display: grid;
            gap: 10px;
        }
        #bag-product-section>div{
            padding: 12px;
            border: 1px solid;
        }
        .bag-red{
            border: 1px solid;
            color: red;
            padding: 5px;
        }
        #bag-price-section{
            border-left: 1px solid;
            width: 39%;
        }
        #bag-gift{
            display: flex;
            background-color: rgb(238, 192, 208);
        }
        #bag-price-section>div{
            padding: 12px;
        }
        #bag-place-order{
            background-color: rgb(248, 45, 126);
            color: white;
            text-align: center;
            padding: 1px 0px;
        }
        .bag-elements{
            display: flex;
            justify-content:space-between;
        }
        .bag-cancel{
            display: flex;
            justify-content: flex-end;
            padding-right: 4px;
        }
        #bag-cards{
            display: grid;
            gap: 9px;
        }
        #bag-cards>div{
            border:1px solid;
        }
        #bag-cards img{
            width: 100%;
        }
        #bag-cards>div>div:nth-child(1){
            width: 30%;
        }
        #bag-cards>div>div:nth-child(2){
            width: 60%;
        }
        #bag-cards>div>div:nth-child(3){
            padding:5px;
        }
        #bag-nav>div:nth-child(1), #bag-nav>div:nth-child(3){
            width: 7%;
        }
        #bag-nav img{
            width: 100%;
        }
        #bag-nav-div{
            display: flex;
            align-items: center;
        }
        
    </style>

<script src="https://kit.fontawesome.com/81ff3434ff.js" crossorigin="anonymous"></script>

</head>
<body>
    <div>
        <div id="bag-nav" class="bag-space-btw">
            <div>
                <img src="https://images.news18.com/ibnlive/uploads/2021/01/1611996262_ynt.jpeg?im=FitAndFill,width=1200,height=675" alt="">
            </div>
            <div>
                <h3><u style="color:green ;">BAG</u>-------ADDRESS-------PAYMENTS</h3>
            </div>
            <div id="bag-nav-div">
                <div>
                    <img src="https://constant.myntassets.com/checkout/assets/img/sprite-secure.png" alt="">
                </div>
                <div>
                    <p>100% SECURE</p>
                </div>
                 
            </div>
        </div>
        <div id="bag-main">
            <div id="bag-product-section">
                <div class="bag-space-btw">
                    <div>Deliver to:</div>
                    <div class="bag-red">CHANGE ADDRESS</div>
                </div>
                <div>
                    <h5>Available Offers</h5>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
                </div>
                <div>
                    <p>Yay! No convenience fee on this order</p>
                </div>
                <div style="border: none;">
                    <h4><span class="bagcount"></span> ITEMS</h4>
                </div>
                <div id="bag-cards" style="border: none;">

                </div>
            </div>
            <div id="bag-price-section">  
                <div>
                    <h4>COUPONS</h4>
                    <div class="bag-space-btw">
                        <div><p>Apply Coupons</p></div>
                        <div><p class="bag-red">APPLY</p></div>
                    </div>
                </div>                         
                <hr>
                <div>
                    <h4>GIFTING & PERSONALISATION</h4>
                    <div id="bag-gift">
                        <div>
                            <img width="80%" src="https://constant.myntassets.com/checkout/assets/img/gift-big.png" alt="">
                        </div>
                        <div>
                            <h4>Buying for a loved one?</h4>
                             <p>Gift wrap and personalised message on card,<br>Only for Rs 25</p>
                            <h3 style="color: red;">ADD GIFT WRAP</h3>
                         </div>
                     </div>
                 </div>
                 <hr>
                 <div>
                    <h4>PRICE DETAILS( <span class="bagcount"></span> Items)</h4>
                    <div class="bag-space-btw">
                        <div>
                            <p>Total MRP</p>
                            <p>Discount on MRP</p>
                            <p>Coupon Discount</p>
                            <p>Convience Fee <span style="color: red;font-weight: bold;">Know More</span></p>
                        </div>
                        <div style="text-align: end;">
                            <p>k</p>
                            <p>k</p>
                            <p style="color: red;">Apply Coupon</p>
                            <p><strike>99</strike> <span style="color: green;">FREE</span> </p>
                        </div>
                    </div>                  
                 </div>
                 <hr>
                 <div>
                    <div class="bag-space-btw">
                        <p >Total Amount</p>
                        <p><i class="fa-solid fa-indian-rupee-sign"></i> <b id="bag-total-amount"></b> </p>
                    </div>
                    <div id="bag-place-order">
                        <h3>PLACE ORDER</h3>
                    </div>
                 </div>         
            </div>
        </div>
    </div>
</body>
</html>
<script>
    let bagdata=JSON.parse(localStorage.getItem("bag-list"))
    console.log(bagdata)
    
    let totalamount=0;
    let mother_div=document.querySelector("#bag-cards")
    bagdata.forEach(function(el,i)
    {
        let div=document.createElement("div")
        div.setAttribute("class","bag-elements")
        
        let imgdiv=document.createElement("div")
        let image=document.createElement("img")
        image.src=el.image_url;
        imgdiv.append(image)

        let descdiv=document.createElement("div")
        let name=document.createElement("p")
        name.innerText=el.name;
        let price=document.createElement("h4")
        price.innerText=el.price;
        descdiv.append(name,price)

        let numprice=+el.price
        totalamount+=numprice;

        let canceldiv=document.createElement("div")
        canceldiv.innerHTML="<i class='fa-solid fa-xmark'></i>"
        canceldiv.setAttribute("class","bag-cancel")
        canceldiv.addEventListener("click",function()
        {
            remov(el,i)
        })
        
        div.append(imgdiv,descdiv,canceldiv)
        mother_div.append(div)
    })
    console.log(totalamount)

    function remov(el,i)
    {
        bagdata.splice(i,1)
        localStorage.setItem("bag-list",JSON.stringify(bagdata))
        window.location.reload()       
    }

    let noofitems=document.querySelectorAll(".bagcount")
    noofitems.forEach(function(el)
    {
        el.innerText=bagdata.length
    })
    
    document.querySelector("#bag-total-amount").innerText=totalamount
</script>